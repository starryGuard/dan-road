# dan-road
你好 我想做个可以 毕业的共识算法。
首先，我的灵感来自于著名的algorand算法以及Gosig协议。他们都是基于pbft算法进行改进的。

这里先介绍一下algorand算法：该算法分为两部分：一个是块提议，
一个是BA*（就是决定块是否被提交，如果未对块达成共识，就提交一个空白块）。
在algorand算法中，为了避免提出块的人收到攻击，作者使用了vrf（可验证随机函数）使得提出块的人（以下简称leader）
是隐藏的，具体过程是：块首先在普通用户中通过加密抽签选择出这一轮的委员会成员（委员会成员会在每一轮通讯进行替换），
然后在委员会成员中再次通过加密抽签选择出这一轮的提议者，每个提议者提议一个块，
然后连同哈希和证明（一种随机号码，数字签名可以很容易对其进行验证）一起传播到网络上。
抽签确保随机选择一小部分用户，并通过其权重为每个所选用户提供优先级，可以在用户之间进行比较。
由于抽签是随机的，**所以可能会有多个子用户选择提出块，产生多个块**，用户通过比较子用户优先级，采用有最高优先级的子用户的那个块，
子用户的最高优先级是块的优先级。 然后用户通过网络传播这个块，以及其优先级和证明。其他用户等待一定的时间来接收块。




idea1:采用vrf算法先实现leader的随机化和隐藏。
idea2:因为提到的以上算法会可能会产生多个候选的块，后面的步骤涉及块的投票和选择，
是否可以保证一次只有一个leader产生块，省去投票的步骤。
idea3：师兄前两天有给我推荐超级账本中用的一个技术叫做idemix，（IBM Identity Mixer是用于保护隐私身份验证和
认证属性传输的加密协议套件。它允许用户认证而不泄露任何个人数据。
因此，收集的个人数据不需要按照复杂的法律法规进行保护、管理和处理）。idemix使得用户尽量减少在交易中披露的个人数据。

还有我们不用gossip协议，因为这个协议可以保证最终一致性，就是最后所有节点都收到消息，但是不知道什么时候所有节点
才可以收到消息，这样就会到账传播的信息不平衡：比如提出的最终块应该是1 ，但是由于网络通信，有的节点还没有收到这个块，就
先判断了之前收到的块，这样就会产生分叉，或者提交空白块的可能。所以我们不使用gossip 协议，我们应该使用一种可以在一定时间内
保证所有节点都收到消息的通信方式。（algorand算法是用估计上轮的通信时间来估算需要等待的时间）。
--------------------- 
项目的第一步  实现块提出（在pbft中就是要传递的消息），确定要打包并转发的区块。（这里采用类似于algorand算法）
第二步：